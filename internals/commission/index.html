<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/solido/blog/rss.xml" title="Lido for Solana Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/solido/blog/atom.xml" title="Lido for Solana Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Commission | Lido for Solana</title><meta data-react-helmet="true" property="og:url" content="https://chorusone.github.io/solido/internals/commission"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Commission | Lido for Solana"><meta data-react-helmet="true" name="description" content="This page explains how Lido for Solana (‚ÄúSolido‚Äù) handles validation rewards."><meta data-react-helmet="true" property="og:description" content="This page explains how Lido for Solana (‚ÄúSolido‚Äù) handles validation rewards."><link data-react-helmet="true" rel="shortcut icon" href="/solido/img/stSOL.svg"><link data-react-helmet="true" rel="canonical" href="https://chorusone.github.io/solido/internals/commission"><link data-react-helmet="true" rel="alternate" href="https://chorusone.github.io/solido/internals/commission" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chorusone.github.io/solido/internals/commission" hreflang="x-default"><link rel="stylesheet" href="/solido/assets/css/styles.8ab0f3ac.css">
<link rel="preload" href="/solido/assets/js/runtime~main.29ebde7c.js" as="script">
<link rel="preload" href="/solido/assets/js/main.6884966f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solido/"><img src="/solido/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/solido/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido for Solana</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://medium.com/chorus-one/introducing-lido-for-solana-8aa02db8503" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/chorusone/solido" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/solido/"><img src="/solido/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/solido/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido for Solana</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://medium.com/chorus-one/introducing-lido-for-solana-8aa02db8503" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/chorusone/solido" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/solido/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Staking</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/staking/overview">Staking Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/staking/phantom">Phantom</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/staking/solflare">Solflare</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/staking/ledger">Ledger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/staking/Sollet">Sollet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/staking/solong">Solong</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/solido/the-solido-utility">The Solido utility</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/governance/governance">Governance Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/governance/governance-responsibilities">Governance Responsibilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/governance/fee-management">Fee Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/governance/using-cli-for-multisig">Using the Lido for Solana CLI for Governance</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/solido/maintenance">Maintenance</a></li><li class="menu__list-item"><a class="menu__link" href="/solido/validator-onboarding">Validator onboarding</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/development">Development Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/building-docker-image">Buiding a Docker image locally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/frontend-integration">Integrating with Lido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/price-oracle">Price oracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/reproducibility">Reproducibility</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">specification</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/specification">Specification Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">cli</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/cli/cli">cli</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">multisig</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/multisig/multisig">multisig</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">solido</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/solido">Solido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/account_map">Account Map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/balance">Balance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/entrypoint">Entrypoint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/error">Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/instruction">Instruction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/lib">Lib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/logic">Logic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/process_management">Process Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/processor">Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/state">State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solido/development/specification/solido/token">Token</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/solido/internals/solana-staking">Staking on Solana</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/solido/internals/commission">Commission</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/solido/internals/withdrawals">Withdrawals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/solido/internals/exchange-rate">Exchange rate</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/solido/deployments">Deployments</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Commission</h1></header><div class="markdown"><p>This page explains how Lido for Solana (‚ÄúSolido‚Äù) handles validation rewards.
If you haven‚Äôt done so yet, now is a good time to review <a href="/solido/internals/solana-staking#vote-accounts">how vote accounts
work on Solana</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="challenge"></a>Challenge<a class="hash-link" href="#challenge" title="Direct link to heading">#</a></h2><p>Lido for Solana faced the following challenge:</p><ul><li>We want many validators to be able to join.</li><li>These validators may have different validation fees (commissions) for their
public vote accounts.</li><li>We (Lido) want to decide the validation fee percentage, and it should be the
same for all validators.</li></ul><p>If we would allow validators to join with their public vote account, those would
have different commissions, and either some validators would take more
commission than the percentage set by Lido, or these validators would not be
able to join.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="solido-vote-accounts"></a>Solido vote accounts<a class="hash-link" href="#solido-vote-accounts" title="Direct link to heading">#</a></h2><p>To level the playing field for validators, we ask them to create a new vote
account for use with Solido. We could ask validators to set the commission of
those vote accounts to the percentage decided by Lido, but this creates new
problems:</p><ul><li><p>If we set a lower validation fee percentage than the commissions of existing
public vote accounts, users might flock away from the existing vote accounts,
and delegate to the Solido vote accounts directly. Users who do this would
not benefit from Solido‚Äôs advantages (a liquid token, and spreading risk),
but it would still undermine the validator‚Äôs public vote accounts.</p></li><li><p>Changing the validation fee percentage requires action from all validators.</p></li></ul><p>To address this, we require validators to set the commission to 100%, but set
the <em>withdraw authority</em> of the vote account to an address controlled by Solido.
This has the following consequences:</p><ul><li><p>It is no longer interesting for users to delegate directly to this vote
account, because they would not gain any rewards.</p></li><li><p>Only the Solido program has access to validation rewards. This means that
Soldio can distribute the validation fees, and should the percentage need to
change, it can be done in a single place.</p></li></ul><p>An additional advantage of Solido distributing validation fees, is that it can
distribute them in the form of stSOL. This means that validators automatically
get compounding rewards, and it aligns the interests of validators with those of
stSOL holders.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="validation-fee-credit"></a>Validation fee credit<a class="hash-link" href="#validation-fee-credit" title="Direct link to heading">#</a></h2><p>When Solido observes a reward in a vote account, it splits it into a fee part,
and a part that goes to stSOL appreciation. The fee part is further split into
the treasury fee, the developer fee, and the validation fee. The treasury and
developer fee get paid directly into their stSOL accounts, but for technical
reasons, the validation fee involves a separate step. Solido stores the
amount in the validator list in the Solido instance, and when a validator claims
it, Solido mints the stSOL into the validator‚Äôs fee account, and resets the
unclaimed amount stored in the Solido instance back to zero.</p><p>The reason for the separate claiming step, is that Solana transactions have a
fairly low upper bound on the number of accounts they can reference. With many
validators, we couldn‚Äôt possibly pay all of them in a single transaction; the
‚Äúpush-based‚Äù approach no longer works. To work around this, we instead store the
stSOL credit of each validator in the Solido instance (which is only one
account), and we have an instruction to pay out this credit for a single
validator. With this ‚Äúpull-based‚Äù approach, the number of validators is no
longer limited by the Solana account limit.</p><p>The maintenance bot <a href="/solido/maintenance#claiming-validation-fees">can automatically perform this claiming
step</a> for a single validator at a
time.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/solido/internals/solana-staking"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Staking on Solana</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/solido/internals/withdrawals"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Withdrawals ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#challenge" class="table-of-contents__link">Challenge</a></li><li><a href="#solido-vote-accounts" class="table-of-contents__link">Solido vote accounts</a></li><li><a href="#validation-fee-credit" class="table-of-contents__link">Validation fee credit</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/solido/assets/js/runtime~main.29ebde7c.js"></script>
<script src="/solido/assets/js/main.6884966f.js"></script>
</body>
</html>