<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Lido for Solana Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Lido for Solana Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Withdrawals | Lido for Solana</title><meta data-react-helmet="true" property="og:url" content="https://docs.solana.lido.fi//internals/withdrawals"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Withdrawals | Lido for Solana"><meta data-react-helmet="true" name="description" content="This page describes how withdrawals in Lido for Solana work, and why we went"><meta data-react-helmet="true" property="og:description" content="This page describes how withdrawals in Lido for Solana work, and why we went"><link data-react-helmet="true" rel="shortcut icon" href="/img/stSOL.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.solana.lido.fi//internals/withdrawals"><link data-react-helmet="true" rel="alternate" href="https://docs.solana.lido.fi//internals/withdrawals" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.solana.lido.fi//internals/withdrawals" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.73b41835.css">
<link rel="preload" href="/assets/js/runtime~main.031dc187.js" as="script">
<link rel="preload" href="/assets/js/main.0c051689.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido for Solana</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://medium.com/chorus-one/introducing-lido-for-solana-8aa02db8503" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/chorusone/solido" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido for Solana</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://medium.com/chorus-one/introducing-lido-for-solana-8aa02db8503" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/chorusone/solido" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Staking</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/overview">Staking Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/phantom">Phantom</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/solflare">Solflare</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/ledger">Ledger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/Sollet">Sollet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/solong">Solong</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/stSOL-Saber-pool">Investing stSOL in Saber</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/Orca-pool-Wormhole-guide">Wormhole Guide (Orca Pool)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/migrate-aux-to-ata-guide">ATA Migration Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/governance">Governance</a></li><li class="menu__list-item"><a class="menu__link" href="/administration">Administration</a></li><li class="menu__list-item"><a class="menu__link" href="/fees">Fees</a></li><li class="menu__list-item"><a class="menu__link" href="/validator-onboarding">Validator onboarding</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/operation/the-solido-utility">The Solido utility</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/operation/maintenance">Maintenance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/operation/multisig-guide">Multisig guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/development">Development Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/building-docker-image">Buiding a Docker image locally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/frontend-integration">Integrating with Lido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/price-oracle">Price oracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/reproducibility">Reproducibility</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">specification</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/specification">Specification Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">cli</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/cli/cli">cli</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">multisig</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/multisig/multisig">multisig</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">solido</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/solido">Solido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/account_map">Account Map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/balance">Balance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/entrypoint">Entrypoint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/error">Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/instruction">Instruction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/lib">Lib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/logic">Logic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/process_management">Process Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/processor">Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/state">State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/solido/token">Token</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/internals/solana-staking">Staking on Solana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/internals/commission">Commission</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/internals/withdrawals">Withdrawals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/internals/exchange-rate">Exchange rate</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/incentives">Incentives</a></li><li class="menu__list-item"><a class="menu__link" href="/deployments">Deployments</a></li><li class="menu__list-item"><a class="menu__link" href="/security">Security</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Withdrawals</h1></header><div class="markdown"><p>This page describes how withdrawals in Lido for Solana work, and why we went
with this approach. If you haven’t done so yet, now is a good time to review
<a href="/internals/solana-staking#stake-accounts">how stake accounts work on Solana</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="background-solido-staking"></a>Background: Solido staking<a class="hash-link" href="#background-solido-staking" title="Direct link to heading">#</a></h2><p>For Solido, we require validators to set up a new vote account, with 100%
commission, and the withdraw authority set to a Solido-controlled address. (See
also <a href="/internals/commission">the commission page</a>.) This means that all validation
rewards are controlled by the Solido program. Solido then computes fee amounts
and distributes those to validators. This is a bit different from a typical
non-pooled validator setup, where validators set themselves as withdraw
authority, and fee distribution happens automatically due to the
commission/delegator split. Because for Solido all validation rewards are paid
as commission into vote accounts, rewards do not compound automatically, so the
Solido maintenance bot withdraws the rewards from the vote accounts and stakes
them, just like it stakes deposits.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="background-solido-rewards"></a>Background: Solido rewards<a class="hash-link" href="#background-solido-rewards" title="Direct link to heading">#</a></h2><p>On Solana, vote accounts gain rewards proportional to how many times they voted,
and proportional to the stake delegated to them. The stake amount is the
<em>active</em> stake at the start of the epoch (so active and deactivating stake, but
not activating and inactive stake). Rewards for votes in epoch <em>k</em>, are then
paid by the runtime at the start of epoch <em>k</em> + 1. In the optimal case, this
means that if you activate (delegate) stake in epoch <em>k</em>, it will be activating
for the remainder of epoch <em>k</em>, it will be active in epoch <em>k</em> + 1, and the
rewards gained over epoch <em>k</em> + 1 will be paid at the start of epoch <em>k</em> + 2.</p><p>Solido splits validation rewards into two parts: fees, that get paid in the form
of stSOL, and rewards that benefit stSOL holders implicitly, by making the SOL
value of stSOL go up. Solido maintains a fixed exchange rate per epoch, that is
updated once at the start of the epoch.</p><ul><li><p>At the start of epoch <em>k</em>, the maintenance bot triggers an exchange rate
update. Solido then reads the SOL balance managed, and the amount of stSOL in
existence, and this becomes the new exchange rate for epoch <em>k</em>. The SOL
balance managed by Solido does not yet include rewards received at the start
of epoch <em>k</em>.</p></li><li><p>After the exchange rate update, the maintenance bot triggers fee collection
for every validator. This looks at the vote accounts, and withdraws the
rewards in there into the Solido reserve. These rewards are the rewards over
epoch <em>k</em> - 1. Solido mints stSOL fees according to the current (just
updated) exchange rate, and the remainder goes to stSOL value accrual, which
will go into effect when the next exchange rate update observes the new
balance.</p></li></ul><p>A user who deposits in epoch <em>k</em>, can withdraw more SOL than initially
deposited, in epoch <em>k</em> + 1. Therefore, the user benefits from rewards in epoch
<em>k</em> + 1. This benefit is not due to the user’s own deposit, because that stake
only started being active in epoch <em>k</em> + 1; it’s the reward over epoch <em>k</em> - 1,
that benefits stSOL holders at the transition from epoch <em>k</em> to <em>k</em> + 1. This
means rewards are “shifted in time”: users can already benefit, even though
their share of the pool is not yet active and gaining rewards.</p><p>On the flip side of this, users do not benefit from rewards gained over the
epoch where they withdraw. If a user withdraws and deactivates in epoch <em>k</em>,
then the stake still gains rewards over epoch <em>k</em>. The stake is deactivating,
but that counts as active stake for the purpose of rewards. Those rewards over
epoch <em>k</em> get paid at the start of epoch <em>k</em> + 1, and they will benefit stSOL
holders at the exchange rate update of epoch <em>k</em> + 2. A user who withdraws in
epoch <em>k</em>, therefore benefitted for the last time at transition from epoch
<em>k</em> - 1 to <em>k</em>, and that benefit was due to the stake active in epoch <em>k</em> - 2.</p><p>Aside from reward differences due to differences in activating stake, Solana has
an inflation schedule that reduces the reward slightly with every epoch.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="withdrawal-approach"></a>Withdrawal approach<a class="hash-link" href="#withdrawal-approach" title="Direct link to heading">#</a></h2><p>This section describes how withdrawals work in Lido for Solana. In the next
section, we can then investigate possible concerns to see if they are a problem
for this withdrawal method.</p><p><strong>Withdrawals withdraw an active stake account.</strong>
When a user withdraws, we take the stSOL and burn it. Then we split one of the
Solido-managed stake accounts, to split off the corresponding amount of SOL.
(The amount is determined by the internal exchange rate, see below.) We set the
stake and withdraw authority of this new stake account to the withdrawing user’s
address, so the user is now in full control of this stake account. The stake
remains active, and delegated to one of the Solido validators. It is up to the
user to deactivate the stake, and then withdraw from the stake account. We might
automatically include a deactivate instruction from the withdraw widget or CLI
command, to save users the deactivate step.</p><p><strong>Solido picks the validator to withdraw from.</strong>
Solido maintains a target stake balance and actual balance for every validator.
It only allows withdrawing from a validator, if there is no other validator
whose stake balance is further above its target than the one we try to withdraw
from. If the maintenance bot kept the stake exactly balanced, this could be any
validator, but in practice, due to the minimum stake amount, validator balances
can differ slightly.</p><p><strong>Withdrawal amounts are constrained.</strong>
Because withdrawal splits a stake account, the maximum amount to withdraw is the
amount of stake in the target stake account, minus the minimum stake balance. If
users want to withdraw more, they should do multiple withdrawals. Also, because
of the minimum rent-exempt balance of stake accounts, the minimum amount to
withdraw is the minimum rent-exempt balance.</p><p><strong>Withdrawal amounts are capped further.</strong>
Aside from the above limitations, we cap withdrawals so users can withdraw at
most 10% of a validator’s stake.</p><p><strong>The exchange rate is fixed per epoch.</strong>
Solido uses a fixed SOL/stSOL exchange rate that is updated once per epoch. The
net effect of this is that the relative order of deposits and withdrawals within
an epoch no longer matters. Effectively, time is discrete, and only epochs
matter.</p><p><strong>Withdrawals are for advanced users.</strong>
Because withdrawals are subject to some constraints, and because they require
multiple advanced steps from the user (deactivate and withdraw from the stake
account), we don’t expect regular users to withdraw from Solido. Those users can
withdraw on the open market (e.g. Saber or Serum) instead. We mainly expect
power users such as market makers to withdraw directly from Solido.</p><p>Consequences of this approach:</p><ul><li>Solido gains rewards over stake that was withdrawn, over the epoch that the
stake was withdrawn in. (And possibly longer, if the user doesn’t deactivate
the stake.)</li><li>Withdrawals are instant for Solido, we do not need to store ongoing
withdrawals anywhere. Withdrawals are instant for users too, in the sense
that the funds immediately move to an account controlled by the user, but
users still need to deactivate their stake and wait for it to cool down
before they can spend the SOL. This is enforced by the Solana network, Solido
is not involved in the cooldown.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="possible-concerns"></a>Possible concerns<a class="hash-link" href="#possible-concerns" title="Direct link to heading">#</a></h2><p>This section lists some possible issues, and explains how they affect Solido’s
withdrawal approach.</p><p><strong>[Non-issue] Withdrawals causing churn, which cause Solido to miss rewards.</strong>
If stake that is withdrawn no longer incurs rewards, then a user could withdraw
<em>x</em> SOL, and then deposit <em>x</em> SOL. (They might be different users too.) The end
result is the same balance for Solido, except that we gain fewer rewards,
because newly deposited SOL needs to be activated first, and it’s not gaining
rewards while it is activating. This turns out to be a non-issue, because
deactivating stake still gains rewards, so when users withdraw, even though they
are in control of the stake account from that point on, Solido still gets the
rewards that epoch. Therefore, withdrawing does not cause Solido to miss
rewards.</p><p><strong>[Non-issue] Users who have knowledge about future slashings can withdraw to
avoid the penalty.</strong> This is not a problem, because slashing does not exist on
Solana.</p><p><strong>[Non-issue] Bank run.</strong> Aside from the minimum mentioned above, nothing
prevents users from withdrawing, and users who withdraw do not have a negative
impact on Solido.</p><p><strong>[Low impact] Users can disturb the stake balance.</strong>
Even though Solido only allows withdrawing from the validator with the most
excess stake, users can withdraw a large amount that disturbs the stake
distribution by a lot. This is less of a problem with more validators. Users
could also wait for their target validator to be the one with the most excess
stake, and then withdraw. A validator with less stake is not a problem for that
validator, because Solido distributes validation rewards among all validators,
so the validator will still have income, even if it temporarily has less stake.
Still, to limit the impact of this issue, we cap the amount per withdrawal to a
percentage of the validator’s stake. For larger withdrawals, the user needs to
break them up, and then Solido enforces that the parts are withdrawn from
different validators. Furthermore, in v1, the only way to return to the target
stake distribution is by staking more new deposits, but in v2, we plan for the
maintenance bot to actively redistribute stake, which will limit the possibility
for imbalance at larger timescales.</p><p><strong>[Low impact] Solido balance cannot be fully withdrawn.</strong> Because we require a
minimum amount to remain in every stake account, not all funds can be withdrawn.
We need to keep at least one stake account, with the minimum stake account
balance, per validator. In the long term, this can be resolved by implementing
validator removal. Because the “locked” amount is proportional to the number of
validators, it can be reduced by reducing the number of validators. But even
without validator removal, this is not a problem in practice. The minimum stake
account balance is only 1 SOL, so if every validator who joins deposits 1 SOL
without the intention of withdrawing it, then all users who wish to withdraw can
do so.</p><p><strong>[Unknown impact] Time shift of rewards.</strong> When users deposit at epoch <em>k</em> and
withdraw in epoch <em>k</em> + 1, the reward is really the reward over the stake active
in epoch <em>k</em> - 1, see also the earlier section on Solido rewards. When the
balance managed by Solido is steady, and when deposits and withdrawals are small
with respect to size of the pool, the rewards over those epochs will be very
similar. However, when the pool is growing or shrinking a lot, this difference
might be significant. Let’s consider three scenarios:</p><ol><li>In epoch <em>k</em> - 1, the pool size was a lot smaller than <em>x</em>, and in epoch
<em>k</em>, it’s <em>x</em>. (The pool is growing fast.)</li><li>In epoch <em>k</em> - 1, the pool size was about <em>x</em>, and in epoch <em>k</em>, it’s <em>x</em>.
(The pool is steady.)</li><li>In epoch <em>k</em> - 1, the pool size was a lot larger than <em>x</em>, and in epoch <em>k</em>,
it’s <em>x</em>. (The pool is shrinking quickly.)</li></ol><p>For a user who deposits SOL in epoch <em>k</em>, and withdraws all of it in epoch
<em>k</em> + 1, the benefit in scenario 1 is smaller than scenario 2, and the benefit
in scenario 3 is larger than in scenario 2. In other words, it’s more lucrative
to jump in and out when the pool is shrinking to <em>x</em>, than when the pool is
growing to <em>x</em>. (Note, this compares growing and shrinking to <em>x</em>, not just
growing or shrinking in general!) We don’t know how this impacts long-term
stability; withdrawing in epoch <em>k</em> + 1 is still more lucrative than withdrawing
in epoch <em>k</em>, regardless of whether the pool is growing or shrinking. Also, due
to the fixed exchange rate, withdrawing <em>x</em> SOL in epoch <em>k</em> and depositing the
same amount again in epoch <em>k</em>, is equivalent for the user to just holding the
stSOL. There might be other interesting behaviors though, this needs more
analysis.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="comparison-to-lido-for-ethereum"></a>Comparison to Lido for Ethereum<a class="hash-link" href="#comparison-to-lido-for-ethereum" title="Direct link to heading">#</a></h2><p>We also investigate some of <a href="https://ethresear.ch/t/handling-withdrawals-in-lidos-eth-liquid-staking-protocol/8873" target="_blank" rel="noopener noreferrer">the concerns that were investigated for Lido for
Ethereum</a>, to benefit from the analysis done there. This is not an
apples-to-apples comparison because Solana and Ethereum are very different, but
it is good to still go over the scenarios, to see if and how they affect Solido.</p><p><strong>[N/A] Discrete withdrawal amounts.</strong>
On Ethereum 2, withdrawal amounts are less flexible than on Solana. On Solana,
we can split off a stake account for almost any amount of SOL, but limited by
the constraints mentioned before.</p><p><strong>[N/A] Oracle reports on network state.</strong>
Solido does not involve any oracles, everything happens on-chain.</p><p><strong>[N/A] Network turbulence.</strong>
Ethereum 2 can lose finality. This is not a problem on Solana; in the worst case
the network halts.</p><p><strong>[N/A] Ongoing slashings.</strong>
Slashing does not exist on Solana.</p><p><strong>[Non-issue] Ongoing rewards.</strong>
Rewards on Solana are paid once per epoch. Solido discretizes time such that
only epochs matter. Users who deposit in epoch <em>k</em>, benefit (from the new
exchange rate) in epoch <em>k</em> + 1. Users who withdraw in epoch <em>k</em>, can access
their funds at the earliest in epoch <em>k</em> + 1 (and possibly later, if cooldown
takes longer, this depends on the state of the entire network). Users who
withdraw in epoch <em>k</em>, do not benefit from the rewards incurred over epoch <em>k</em>.
To benefit from rewards, users need to stake with Solido for at least one epoch
boundary.</p><p><strong>[Non-issue] Unbonding period.</strong>
Stake on Solana is subject to a cooldown period. We move this problem to the
user, by making withdrawals return an active stake account, so we don’t need to
keep track of the cooldown.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/internals/commission"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Commission</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/internals/exchange-rate"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Exchange rate »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background-solido-staking" class="table-of-contents__link">Background: Solido staking</a></li><li><a href="#background-solido-rewards" class="table-of-contents__link">Background: Solido rewards</a></li><li><a href="#withdrawal-approach" class="table-of-contents__link">Withdrawal approach</a></li><li><a href="#possible-concerns" class="table-of-contents__link">Possible concerns</a></li><li><a href="#comparison-to-lido-for-ethereum" class="table-of-contents__link">Comparison to Lido for Ethereum</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.031dc187.js"></script>
<script src="/assets/js/main.0c051689.js"></script>
</body>
</html>