<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Lido for Solana Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Lido for Solana Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">instruction | Lido for Solana</title><meta data-react-helmet="true" property="og:url" content="https://docs.solana.lido.fi//development/specification/solido/instruction"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="instruction | Lido for Solana"><meta data-react-helmet="true" name="description" content="Specification of the instruction.rs module"><meta data-react-helmet="true" property="og:description" content="Specification of the instruction.rs module"><meta data-react-helmet="true" name="keywords" content="development,developers,lido,specification,intent,instruction,solido,solana"><link data-react-helmet="true" rel="shortcut icon" href="/img/stSOL.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.solana.lido.fi//development/specification/solido/instruction"><link data-react-helmet="true" rel="alternate" href="https://docs.solana.lido.fi//development/specification/solido/instruction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.solana.lido.fi//development/specification/solido/instruction" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.73b41835.css">
<link rel="preload" href="/assets/js/runtime~main.c312f475.js" as="script">
<link rel="preload" href="/assets/js/main.0c051689.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido for Solana</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://medium.com/chorus-one/introducing-lido-for-solana-8aa02db8503" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/chorusone/solido" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/stSOL.svg" alt="Lido for Solana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido for Solana</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://medium.com/chorus-one/introducing-lido-for-solana-8aa02db8503" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/chorusone/solido" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Staking</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/overview">Staking Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/phantom">Phantom</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/solflare">Solflare</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/ledger">Ledger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/Sollet">Sollet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/solong">Solong</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/stSOL-Saber-pool">Investing stSOL in Saber</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/Orca-pool-Wormhole-guide">Wormhole Guide (Orca Pool)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/staking/migrate-aux-to-ata-guide">ATA Migration Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/governance">Governance</a></li><li class="menu__list-item"><a class="menu__link" href="/administration">Administration</a></li><li class="menu__list-item"><a class="menu__link" href="/fees">Fees</a></li><li class="menu__list-item"><a class="menu__link" href="/validator-onboarding">Validator onboarding</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/operation/the-solido-utility">The Solido utility</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/operation/maintenance">Maintenance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/operation/multisig-guide">Multisig guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/development">Development Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/building-docker-image">Buiding a Docker image locally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/frontend-integration">Integrating with Lido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/price-oracle">Price oracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/reproducibility">Reproducibility</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">specification</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/specification">Specification Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">cli</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/cli/cli">cli</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">multisig</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/development/specification/multisig/multisig">multisig</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">solido</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/solido">Solido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/account_map">Account Map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/balance">Balance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/entrypoint">Entrypoint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/error">Error</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/development/specification/solido/instruction">Instruction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/lib">Lib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/logic">Logic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/process_management">Process Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/processor">Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/state">State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/development/specification/solido/token">Token</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/internals/solana-staking">Staking on Solana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/internals/commission">Commission</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/internals/withdrawals">Withdrawals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/internals/exchange-rate">Exchange rate</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/incentives">Incentives</a></li><li class="menu__list-item"><a class="menu__link" href="/deployments">Deployments</a></li><li class="menu__list-item"><a class="menu__link" href="/security">Security</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Instruction</h1></header><div class="markdown"><p>The purpose of the instruction module is to contain all functionality and structures related to the Solido program instructions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="enums"></a>Enums<a class="hash-link" href="#enums" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="lido-instruction"></a>Lido Instruction<a class="hash-link" href="#lido-instruction" title="Direct link to heading">#</a></h3><p>The Lido instruction enum contains all the possible instructions for the Solido program.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initialize"></a>Initialize<a class="hash-link" href="#initialize" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Initialize {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  fee_distribution: FeeDistribution,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  max_validators: u32,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  max_maintainers: u32,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The initialise instruction should be passed an appropriate <a href="/development/specification/solido/state#FeeDistribution">FeeDistribution</a> along with the maximum number of validators and maintainers the instance of Solido will support.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deposit"></a>Deposit<a class="hash-link" href="#deposit" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deposit {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  amount: Lamports,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The instruction to deposit an amount defined using the helper struct <a href="/development/specification/solido/token#Lamports">Lamports</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stakedeposit"></a>StakeDeposit<a class="hash-link" href="#stakedeposit" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">StakeDeposit {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  amount: Lamports,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The StakeDeposit instruction moves deposits, specified in <a href="/development/specification/solido/token#Lamports">Lamports</a>, into a new stake account and delegates it to a member validator.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="withdraw"></a>Withdraw<a class="hash-link" href="#withdraw" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Withdraw  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  amount: Lamports,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The Withdraw instruction withdraws an amount, specified in <a href="/development/specification/solido/token#Lamports">Lamports</a>,  from the Solido program.</p><blockquote><p>Note: Withdraws are not currently supported in the Solido program but will be implemeted in a future version.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="distributefees"></a>DistributeFees<a class="hash-link" href="#distributefees" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">DistributeFees</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The DistributeFees instruction will calculate any fees due to the Lido stakeholders, allocate the fees to the program accounts and update the validator fees to be claimed when the ClaimValidatorFees instruction is called.</p><blockquote><p>Note: Only a maintainer can call this instruction</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="claimvalidatorfees"></a>ClaimValidatorFees<a class="hash-link" href="#claimvalidatorfees" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ClaimValidatorFees</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The ClaimValidatorFees instruction will mint any unclaimed fees to the validator&#x27;s fee account.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changefeespec"></a>ChangeFeeSpec<a class="hash-link" href="#changefeespec" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ChangeFeeSpec {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  new_fee_distribution: FeeDistribution,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The ChangeFeeSpec instruction changes the fee distribution ratios after initialisation when given an appropriate new <a href="/development/specification/solido/state#FeeDistribution">FeeDistribution</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="addvalidator"></a>AddValidator<a class="hash-link" href="#addvalidator" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AddValidator,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The AddValidator instruction add a given validator to the pool of validators.</p><blockquote><p>Note: Only the manager role can call this instruction.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="removevalidator"></a>RemoveValidator<a class="hash-link" href="#removevalidator" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RemoveValidator,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The RemoveValidator instruction removes a given validator from the pool of validators. This instruction will fail with an <a href="/development/specification/solido/error#errors">ValidatorHasUnclaimedCredit</a> error if the validator still has unclaimed credit.</p><blockquote><p>Note: Only the manager role can call this instruction.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="addmaintainer"></a>AddMaintainer<a class="hash-link" href="#addmaintainer" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AddMaintainer,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The AddMaintainer instruction add a given maintainer to the pool of maintainers.</p><blockquote><p>Note: Only the manager role can call this instruction.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="removemaintainer"></a>RemoveMaintainer<a class="hash-link" href="#removemaintainer" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RemoveMaintainer,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>Note: Only the manager role can call this instruction.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="macros"></a>Macros<a class="hash-link" href="#macros" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="accounts-struct-and-accounts-struct-meta"></a>Accounts Struct and Accounts Struct Meta<a class="hash-link" href="#accounts-struct-and-accounts-struct-meta" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">macro_rules! accounts_struct {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">macro_rules! accounts_struct_meta {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The accounts_struct and accounts_struct_meta macros assist in  generating two structs for passing accounts by name.  This has the following advantages over dealing with a list of accounts manually:</p><ul><li>There is no risk of making a mistake in the ordering of accounts, or forgetting to update one place after modifying a different place.</li><li>For every account, it forces consideration of if that account should be writable or not.</li><li>It has a shorthand for defining accounts that have a statically known address.</li></ul><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accounts_struct! {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ExampleAccountsMeta, ExampleAccountsInfo {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     frobnicator: { is_signer: true, is_writable: false },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   sysvar_rent = sysvar::rent::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This will generate two structs of the form:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct ExampleAccountsMeta {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   frobnicator: Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">impl ExampleAccountsMeta {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   pub fn to_vec(&amp;self) -&gt; Vec&lt;AccountMeta&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct ExampleAccountsInfo&lt;&#x27;a&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> frobnicator: &amp;&#x27;a AccountInfo&lt;&#x27;a&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> sysvar_rent: &amp;&#x27;a AccountInfo&lt;&#x27;a&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">impl ExampleAccountsInfo {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   pub fn try_from_slice&lt;&#x27;a, &#x27;b: &#x27;a&gt;(raw: &amp;&#x27;b [AccountInfo&lt;&#x27;a&gt;]) -&gt; Result&lt;ExampleAccountsInfo, ProgramError&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The generated structs ensure that the accounts returned by <code>to_vec</code> are in the same order that
<code>try_from_slice</code> expects them. <code>try_from_slice</code> additionally validates that <code>is_signer</code> and <code>is_writable</code> match the definition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="accounts"></a>Accounts<a class="hash-link" href="#accounts" title="Direct link to heading">#</a></h3><p>The accounts used by Solido are generated using the accounts_struct macro. They are summarized here, for each instruction, along with the signable and writable status.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initializeaccounts"></a>InitializeAccounts<a class="hash-link" href="#initializeaccounts" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; InitializeAccountsMeta and InitializeAccountsInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>manager</td><td></td><td>false</td><td>false</td></tr><tr><td>st_sol_mint</td><td></td><td>false</td><td>false</td></tr><tr><td>treasury_account</td><td></td><td>false</td><td>false</td></tr><tr><td>developer_account</td><td></td><td>false</td><td>false</td></tr><tr><td>reserve_account</td><td></td><td>false</td><td>false</td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_rent = sysvar::rent::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const spl_token = spl_token::id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="depositaccounts"></a>DepositAccounts<a class="hash-link" href="#depositaccounts" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; DepositAccountsMeta and DepositAccountsInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>user</td><td></td><td><strong>true</strong></td><td><strong>true</strong></td></tr><tr><td>recipient</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>st_sol_mint</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>reserve_account</td><td></td><td>false</td><td><strong>true</strong></td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const spl_token = spl_token::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const system_program = system_program::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_rent = sysvar::rent::id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stakedepositaccount"></a>StakeDepositAccount<a class="hash-link" href="#stakedepositaccount" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; StakeDepositAccountMeta and StakeDepositAccountInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>maintainer</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>reserve</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>validator_vote_account</td><td></td><td>false</td><td>false</td></tr><tr><td>stake_account_end</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>deposit_authority</td><td></td><td>false</td><td><strong>true</strong></td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_clock = sysvar::clock::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const system_program = system_program::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_rent = sysvar::rent::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const stake_program = stake_program::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const stake_history = stake_history::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const stake_program_config = stake_program::config_id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changefeespec-1"></a>ChangeFeeSpec<a class="hash-link" href="#changefeespec-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; ChangeFeeSpecMeta and ChangeFeeSpecInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>manager</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>treasury_account</td><td></td><td>false</td><td>false</td></tr><tr><td>developer_account</td><td></td><td>false</td><td>false</td></tr></tbody></table><p>No additonal constants.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="addvalidator-1"></a>AddValidator<a class="hash-link" href="#addvalidator-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; AddValidatorMeta and AddValidatorInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>manager</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>validator_vote_account</td><td></td><td>false</td><td>false</td></tr><tr><td>validator_fee_st_sol_account</td><td></td><td>false</td><td>false</td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_clock = sysvar::clock::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_stake_history = sysvar::stake_history::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_stake_program = stake_program::id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="removevalidator-1"></a>RemoveValidator<a class="hash-link" href="#removevalidator-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; RemoveValidatorMeta and RemoveValidatorInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>manager</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>validator_vote_account_to_remove</td><td></td><td>false</td><td>false</td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_clock = sysvar::clock::id(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const sysvar_stake_program = stake_program::id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="distributefees-1"></a>DistributeFees<a class="hash-link" href="#distributefees-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; DistributeFeesMeta and DistributeFeesInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>maintainer</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>st_sol_mint</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>reserve_authority</td><td></td><td>false</td><td>false</td></tr><tr><td>treasury_account</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>developer_account</td><td></td><td>false</td><td><strong>true</strong></td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const spl_token = spl_token::id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="claimvalidatorfees-1"></a>ClaimValidatorFees<a class="hash-link" href="#claimvalidatorfees-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; ClaimValidatorFeesMeta and DistributeFeesInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>st_sol_mint</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>reserve_authority</td><td></td><td>false</td><td>false</td></tr><tr><td>validator_fee_st_sol_account</td><td></td><td>false</td><td><strong>true</strong></td></tr></tbody></table><p>Constants included:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const spl_token = spl_token::id(),</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="addmaintainer-1"></a>AddMaintainer<a class="hash-link" href="#addmaintainer-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; AddMaintainerMeta and  AddMaintainerInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>manager</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>maintainer</td><td></td><td>false</td><td>false</td></tr></tbody></table><p>No additonal constants.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="removemaintainer-1"></a>RemoveMaintainer<a class="hash-link" href="#removemaintainer-1" title="Direct link to heading">#</a></h4><p>Generated structs =&gt; RemoveMaintainerMeta and  RemoveMaintainerInfo</p><table><thead><tr><th>Account Name</th><th>Purpose</th><th>is_signer</th><th>is_writable</th></tr></thead><tbody><tr><td>lido</td><td></td><td>false</td><td><strong>true</strong></td></tr><tr><td>manager</td><td></td><td><strong>true</strong></td><td>false</td></tr><tr><td>maintainer</td><td></td><td>false</td><td>false</td></tr></tbody></table><p>No additonal constants.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><p>For each of the instructions (and their associated account structs) the module contains the functions required to generate the appropriate instructions.</p><p>Each of the functions return a result object of the appropriate instruction or a <code>ProgramError</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-&gt; Result&lt;Instruction, ProgramError&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initialise"></a>initialise<a class="hash-link" href="#initialise" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::Initialize</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn initialize(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fee_distribution: FeeDistribution,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    max_validators: u32,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    max_maintainers: u32,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;InitializeAccountsMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deposit-1"></a>deposit<a class="hash-link" href="#deposit-1" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::Deposit</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn deposit(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;DepositAccountsMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount: Lamports,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stake_deposit"></a>stake_deposit<a class="hash-link" href="#stake_deposit" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::StakeDeposit</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn stake_deposit(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;StakeDepositAccountsMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount: Lamports,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="change_fee_distribution"></a>change_fee_distribution<a class="hash-link" href="#change_fee_distribution" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::ChangeFeeSpec</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn change_fee_distribution(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    new_fee_distribution: FeeDistribution,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;ChangeFeeSpecMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="add_validator"></a>add_validator<a class="hash-link" href="#add_validator" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::AddValidator</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn add_validator(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;AddValidatorMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="remove_validator"></a>remove_validator<a class="hash-link" href="#remove_validator" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::RemoveValidator</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn remove_validator(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;RemoveValidatorMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="distribute_fees"></a>distribute_fees<a class="hash-link" href="#distribute_fees" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::DistributeFees</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn distribute_fees(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;DistributeFeesMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="claim_validator_fees"></a>claim_validator_fees<a class="hash-link" href="#claim_validator_fees" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::ClaimValidatorFees</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn claim_validator_fees(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;ClaimValidatorFeeMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="add_maintainer"></a>add_maintainer<a class="hash-link" href="#add_maintainer" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::AddMaintainer</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn add_maintainer(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;AddMaintainerMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="remove_maintainer"></a>remove_maintainer<a class="hash-link" href="#remove_maintainer" title="Direct link to heading">#</a></h3><p>Constructs, verifies the accounts and returns the <code>Lido::RemoveMaintainer</code> instruction.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn remove_maintainer(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    program_id: &amp;Pubkey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    accounts: &amp;RemoveMaintainerMeta,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Instruction, ProgramError&gt; {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/development/specification/solido/error"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Error</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/development/specification/solido/lib"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lib Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#enums" class="table-of-contents__link">Enums</a><ul><li><a href="#lido-instruction" class="table-of-contents__link">Lido Instruction</a></li></ul></li><li><a href="#macros" class="table-of-contents__link">Macros</a><ul><li><a href="#accounts-struct-and-accounts-struct-meta" class="table-of-contents__link">Accounts Struct and Accounts Struct Meta</a></li><li><a href="#accounts" class="table-of-contents__link">Accounts</a></li></ul></li><li><a href="#functions" class="table-of-contents__link">Functions</a><ul><li><a href="#initialise" class="table-of-contents__link">initialise</a></li><li><a href="#deposit-1" class="table-of-contents__link">deposit</a></li><li><a href="#stake_deposit" class="table-of-contents__link">stake_deposit</a></li><li><a href="#change_fee_distribution" class="table-of-contents__link">change_fee_distribution</a></li><li><a href="#add_validator" class="table-of-contents__link">add_validator</a></li><li><a href="#remove_validator" class="table-of-contents__link">remove_validator</a></li><li><a href="#distribute_fees" class="table-of-contents__link">distribute_fees</a></li><li><a href="#claim_validator_fees" class="table-of-contents__link">claim_validator_fees</a></li><li><a href="#add_maintainer" class="table-of-contents__link">add_maintainer</a></li><li><a href="#remove_maintainer" class="table-of-contents__link">remove_maintainer</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.c312f475.js"></script>
<script src="/assets/js/main.0c051689.js"></script>
</body>
</html>